sudo dnf groupinstall "Server with GUI"
sudo dnf install -y tigervnc-server tigervnc-server-module
ssh -i tc01key -L 5901:localhost:5901 opc@<IP> -N


//Instalación de kubernetes (Linux)
cat <<EOF | sudo tee /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/
enabled=1
gpgcheck=1
gpgkey=https://pkgs.k8s.io/core:/stable:/v1.29/rpm/repodata/repomd.xml.key
EOF

sudo yum install -y kubectl

//Verificar la instalación
kubectl version

//Verificar configuraciión del cluster
kubectl cluster-info

//Instalar minikube (kubernetes local y simplificado)
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube && rm minikube-linux-amd64

//TUNEL
ssh -i tc01key -L 5901:localhost:5901 opc@129.146.122.160 -N


//Settear contraseña del root
UlisesBecerril03_07_02

//Configurar Minikube
minikube config view
minikube config set driver podman

//Iniciar cluster
minikube start

//Ver la consola
minikube dashboard

/"HOLA MUNDO" SIMPLE
kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0
kubectl expose deployment hello-minikube --type=NodePort --port=8080
kubectl port-forward service/hello-minikube 7080:8080

**NOTA: Abrir puerto 7080 y 8080 para poder visualizar (firewall y menú de oracle)

//APP DE KUBERNETES
//Instalar git
sud dnf install git
//Clonar repo
git clone https://github.com/ubecerrilv/kubernetes-try.git

//iniciar servicio de podman
sudo systemctl start podman

//Cambiar al directorio 
./gradlew bootBuildImage
**INTALAR JAVA SI ES NECESARIO

//Quitar seguridad
sudo setenforce 0

//Correr CONTENEDOR
sudo docker run --rm --name kubernetes-service -p 8080:8080 kubernetes-try:0.0.1-SNAPSHOT

/*KUBERNETES*/
//Cargar la imagen a minikube
minikube image load kubernetes-try:0.0.1-SNAPSHOT
